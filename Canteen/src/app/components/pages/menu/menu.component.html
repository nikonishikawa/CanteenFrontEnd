<head>
  <title>Menu</title>
</head>
<body>
  <div class="search-bar-container">
    <i class="fa-solid fa-magnifying-glass"></i>
    <input type="text" placeholder="Search">
  </div>
  <h1>Menu</h1>
  <hr>
  <div class="filt">
    <input type="button" [value]="'All'" (click)="filterMenu(0)">
    </div>
  <div class="filter-container" *ngFor="let cat of category">
    <input type="button" [value]="getCategoryName(cat.categoryId)" (click)="filterMenu(cat.categoryId)">
  </div>

<div class="category-container" *ngFor="let menuItem of filteredMenu">
    <h1>{{ getCategoryName(menuItem.category) }}</h1>

    <div class="main-container">
      <div class="grid-container">
        <div class="image-container">
          <img [src]="menuItem.foodImage" alt="Food image">
        </div>
        <div class="header-container">
          <h1 class="item" [ngStyle]="{'font-size.px': menuItem.item.length > 8 ? 26 : 32}">{{ menuItem.item }}</h1>
          <h1 id="price">₱{{ menuItem.price }}</h1>
        </div>
        <div class="body-container">
          <p *ngIf="menuItem.isHalal > 0">Halal Certified</p>
          <p *ngIf="menuItem.isHalal === 0"></p>
          <p id="description">{{ menuItem.description }}</p>
        </div>
        <div class="action-container">
          <button type="button" (click)="addToTray(menuItem)">Add to Tray</button>
        </div>
      </div>
    </div>
  </div>

  <div class="tray-container">
    <div class="tray-main-container">
      <h1>Tray</h1>
    </div>
  
    <div class="tray-items-container">
      <div class="item-container" *ngFor="let trayItem of trayItems">
        <div class="item-image-container">
          <img [src]="trayItem.foodImage" alt="{{ trayItem.item }}">
        </div>
        <h4 id="menu-item">{{ trayItem.item }}</h4>
        <h5 id="price">₱{{ trayItem.price }}</h5>
        <form class="quantity-container">
          <input id="del" type="button" (click)="decreaseQuantity(trayItem)" value="-">
          <h6 id="quantity">{{ trayItem.quantity }}</h6>
          <input id="add" type="button" (click)="increaseQuantity(trayItem)" value="+">
        </form>
        
        <button class="remove-button" (click)="removeItem(trayItem)"><i class="fa-solid fa-trash-can"></i></button> 
      </div>
    </div>
  
    <h5 id="sub-total-label">Sub-total</h5>
    <h5 id="sub-total">{{ order.subTotal }}</h5>
    <h5 id="discount-label">Discount</h5>
    <h5 id="total-label">Total</h5>
    <h5 id="total">{{ order.total }}</h5>
    <button id="tray-button" type="button">Order Now</button>
  </div>
  
  <div *ngIf="filteredMenu.length === 0">
    <p>No menu items available.</p>
  </div>
  
  